/* === BLKFort (Bold + Book) === */
@font-face {
  font-family: 'BLKFort';
  src: url('/assets/fonts/BLKFort/BLKFort-Bold.woff2') format('woff2'),
       url('/assets/fonts/BLKFort/BLKFort-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: 'BLKFort';
  src: url('/assets/fonts/BLKFort/BLKFort-Book.woff2') format('woff2'),
       url('/assets/fonts/BLKFort/BLKFort-Book.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* styles/nineblock.less */

/* ===========================
   Nine-Section (now 13) Template Scope
   =========================== */
.nine-template {
  --bg-odd:  #2f2f2f;
  --bg-even: #000000;
  --fg:      #ffffff;

  /* UPDATED: Gentle, more elegant headline scale */
  --nb-h1-size:  clamp(32px, 4.8vw, 52px);   // was up to 72px
  --nb-h15-size: clamp(26px, 3.8vw, 40px);   // was up to 56px
  --nb-h2-size:  clamp(20px, 2.8vw, 30px);   // was up to 40px

  --font-sans: 'BLKFort', system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;

  font-family: var(--font-sans) !important;
  font-weight: 400 !important;
  color: var(--fg);
}

/* === FORCE BLKFort ON TYPOGRAPHY === */
.nine-template h1,
.nine-template h2,
.nine-template h3,
.nine-template h4,
.nine-template h5,
.nine-template h6 {
  font-family: 'BLKFort', sans-serif !important;
  font-weight: 700 !important; /* UPDATED: 700 for elegance (was 700/800 mix) */
  letter-spacing: -0.005em !important; /* UPDATED: slightly looser than -0.01em */
}
.nine-template p,
.nine-template li,
.nine-template blockquote,
.nine-template small {
  font-family: 'BLKFort', sans-serif !important;
  font-weight: 400 !important;
  line-height: 1.55; /* UPDATED: improve readability */
  font-size: clamp(16px, 1.4vw, 18px); /* UPDATED */
}

/* Seed invisibility */
.nine-template .blk__seed { width: 1px; height: 1px; opacity: 0; pointer-events: none; }

/* ===========================
   Layout containment + header offset
   =========================== */
/* If your header is not absolute/fixed, you can delete this block later. */
#siteWrapper {
  padding-top: 140px; /* 120px header + breathing room */
}
@media (max-width: 768px) {
  #siteWrapper { padding-top: 72px; } /* 60px header + breathing room */
}

/* UPDATED: consistent inner width + padding to avoid clipping on small screens */
.nine-template .internal-wrapper {
  max-width: 1280px;
  margin: 0 auto;
  padding: clamp(16px, 3vw, 40px);
  overflow-wrap: anywhere; /* prevent long URLs from overflowing */
}

/* ===========================
   Headings
   =========================== */

/* H1 (page title / hero) */
.nine-template .project-title h1,
.nine-template .section-header h1 {
  font-size: var(--nb-h1-size);
  line-height: 1.12;
  letter-spacing: -0.01em;
  margin: 0 0 0.5em;
}

/* =================================
   Heading 1.5 (between H1 & H2)
   ================================= */
.nine-template .nb-h1-5,
.nine-template h1.nb-h1-5,
.nine-template h2.nb-h1-5,
.nine-template h3.nb-h1-5 {
  font-size: var(--nb-h15-size);
  line-height: 1.08; /* UPDATED: a bit more air */
  letter-spacing: -0.01em;
  font-weight: 700; /* UPDATED: was 800 */
  text-transform: uppercase;
  margin: 0 0 0.5em;
  color: inherit;
}
.nine-template .nb-h1-5.is-normalcase { text-transform: none; letter-spacing: 0; }

@media (max-width: 480px) {
  .nine-template .nb-h1-5 { font-size: clamp(22px, 6.4vw, 30px); } /* UPDATED smaller */
}

/* === AUTO APPLY FOR SECTION HEADERS (strict) === */
body .nine-template #content .section-header h2,
body .nine-template .project-content .section-header h2,
body .nine-template .section-header .sqs-block-heading h2,
body .nine-template .section-header .sqs-block-html h2,
body .nine-template .section-header .sqs-block-content h2 {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.08 !important;
  letter-spacing: -0.01em !important;
  font-weight: 700 !important;
  font-style: normal !important;
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* Normalize italics inside headers */
.nine-template .section-header h2 em,
.nine-template .section-header h2 i { font-style: inherit !important; }

/* Safety: ensure H1 is never italicized */
body .nine-template .section-header h1,
body .nine-template .section-header .sqs-block-heading h1 { font-style: normal !important; }

/* === AUTO APPLY (broad) — first H2 in common section areas === */
body .nine-template #content .project-content > .internal-wrapper > h2:first-child,
body .nine-template #content .project-content .sqs-block-heading h2:first-child,
body .nine-template #content .project-content .sqs-block-html h2:first-child,
body .nine-template #content .project-content .sqs-block-content h2:first-child {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.08 !important;
  letter-spacing: -0.01em !important;
  font-weight: 700 !important;
  font-style: normal !important;
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* Mobile fine-tune for auto-applied H1.5 */
@media (max-width: 480px) {
  body .nine-template #content .section-header h2,
  body .nine-template .project-content .section-header h2,
  body .nine-template .section-header .sqs-block-heading h2,
  body .nine-template .section-header .sqs-block-html h2,
  body .nine-template .section-header .sqs-block-content h2,
  body .nine-template #content .project-content > .internal-wrapper > h2:first-child,
  body .nine-template #content .project-content .sqs-block-heading h2:first-child,
  body .nine-template #content .project-content .sqs-block-html h2:first-child,
  body .nine-template #content .project-content .sqs-block-content h2:first-child {
    font-size: clamp(22px, 6.4vw, 30px) !important;
  }
}

/* --- Keep enforcement for later sections (7+) — covers through 13 automatically --- */
body #brand-template.nine-template #content .project-content .section-header h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-heading h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-html h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-content h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-heading h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-html h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-content h2 {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.08 !important;
  letter-spacing: -0.01em !important;
  font-weight: 700 !important;
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* De-italicize every H2 inside Nine Block */
body #brand-template.nine-template h2,
body #brand-template.nine-template h2 * { font-style: normal !important; }

/* ===========================
   Body text + summary
   =========================== */
#brand-template.nine-template .project-summary {
  color: inherit !important;
  max-width: 78ch; /* UPDATED: nicer measure */
}
#brand-template.nine-template .project-summary p {
  font-size: clamp(16px, 1.4vw, 18px);
  line-height: 1.6;
  margin: 0 0 1em;
}

/* ===========================
   MEDIA: responsive images & embeds
   =========================== */
.nine-template .project-media,
.nine-template .responsive-media { width: 100%; }

.nine-template .project-media img,
.nine-template .project-media video,
.nine-template .responsive-media img,
.nine-template .responsive-media video {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Prefer CSS aspect-ratio where available (JS wrapper in template is a fallback) */
.nine-template .project-media iframe,
.nine-template .responsive-media iframe {
  width: 100%;
  aspect-ratio: 16 / 9;
  height: auto;
  border: 0;
  display: block;
}

/* If JS wrapper adds .embed-fluid, ensure it behaves */
.nine-template .embed-fluid { position: relative; width: 100%; }
.nine-template .embed-fluid::before { content: ""; display: block; padding-top: 56.25%; }
.nine-template .embed-fluid > iframe,
.nine-template .embed-fluid > video { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; }

/* ===========================
   Three-color section cycle
   =========================== */
@nb-bg-1: #F2EFE8;  @nb-fg-1: #000000;
@nb-bg-2: #E6B904;  @nb-fg-2: #000000;
@nb-bg-3: #000000;  @nb-fg-3: #FFFFFF;

body #brand-template.nine-template #content > .project-content:nth-of-type(3n+1) {
  background: @nb-bg-1 !important;
  color: @nb-fg-1 !important;
}
body #brand-template.nine-template #content > .project-content:nth-of-type(3n+2) {
  background: @nb-bg-2 !important;
  color: @nb-fg-2 !important;
}
body #brand-template.nine-template #content > .project-content:nth-of-type(3n) {
  background: @nb-bg-3 !important;
  color: @nb-fg-3 !important;
}

/* Ensure text inherits section color */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) li,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) small,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) blockquote,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) a,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) li,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) small,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) blockquote,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) a,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) li,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) small,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) blockquote,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) a {
  color: inherit !important;
}

/* === Adaptive link underlines === */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) a,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) a {
  text-decoration-color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3n) a {
  text-decoration-color: #FFFFFF !important;
}

/* === Section separator line === */
#brand-template.nine-template #content > .project-content .summary-seperator {
  border-top: 2px solid currentColor !important;
  width: 60px;
  margin: 20px 0;
}

/* ===== FORCE section-header colors ===== */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header { color: #000000 !important; }
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header { color: #000000 !important; }
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header   { color: #FFFFFF !important; }

/* ===== End-of-section separator ===== */
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator,
#brand-template.nine-template #content > .project-content .project-summary .summary-separator,
#brand-template.nine-template #content > .project-content .project-summary hr {
  display: block !important;
  height: 2px !important;
  width: 60px !important;
  border: 0 !important;
  outline: 0 !important;
  background: currentColor !important;
  margin: 20px 0 !important;
  padding: 0 !important;
}

/* Kill pseudo-element lines */
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator::before,
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator::after,
#brand-template.nine-template #content > .project-content .project-summary .summary-separator::before,
#brand-template.nine-template #content > .project-content .project-summary .summary-separator::after,
#brand-template.nine-template #content > .project-content .project-summary hr::before,
#brand-template.nine-template #content > .project-content .project-summary hr::after {
  content: "" !important;
  display: none !important;
}

/* ===== Pin the first three sections (cycle continues for 4–13) ===== */
#brand-template.nine-template #content > .project-content:nth-of-type(1) {
  background: #F2EFE8 !important;
  color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(2) {
  background: #E6B904 !important;
  color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3) {
  background: #000000 !important;
  color: #FFFFFF !important;
}

/* ===========================
   RESPONSIVE PATCH (drop-in)
   =========================== */

/* 1) Fluid container: use a fluid width that caps at 1200px */
#brand-template.nine-template .internal-wrapper {
  width: min(92vw, 1200px) !important;
  margin: 0 auto !important;
}

/* 2) Fluid section padding (tighten on smaller screens) */
#brand-template.nine-template .project-content {
  padding: clamp(32px, 7vw, 80px) 0 !important;
}

/* 3) Fluid typography system (keeps your existing tokens, but ensures scale) */
:root {
  --nb-body-size: clamp(15px, 1.7vw, 18px);
  --nb-small-size: clamp(12px, 1.2vw, 14px);
}
#brand-template.nine-template .project-content,
#brand-template.nine-template .project-content p,
#brand-template.nine-template .project-content li,
#brand-template.nine-template .project-content small {
  font-size: var(--nb-body-size) !important;
  line-height: 1.55 !important;
}
#brand-template.nine-template .project-content small { font-size: var(--nb-small-size) !important; }

/* Headings: keep your H1 + H1.5 intent, but fluid */
#brand-template.nine-template .project-content h1 { 
  font-size: clamp(34px, 6.25vw, 72px) !important; 
  line-height: 1.05 !important;
}
#brand-template.nine-template .project-content h2 { 
  font-size: clamp(28px, 4.8vw, 56px) !important; 
  line-height: 1.05 !important;
}
#brand-template.nine-template .project-content h3 { font-size: clamp(22px, 3.6vw, 32px) !important; }
#brand-template.nine-template .project-content h4 { font-size: clamp(18px, 2.8vw, 24px) !important; }
#brand-template.nine-template .project-content h5 { font-size: clamp(16px, 2.2vw, 20px) !important; }
#brand-template.nine-template .project-content h6 { font-size: clamp(14px, 1.9vw, 18px) !important; }

/* 4) Responsive media: images and videos scale to container */
#brand-template.nine-template .project-media img,
#brand-template.nine-template .project-media video {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* Squarespace video embeds (incl. Vimeo/YouTube) */
#brand-template.nine-template .project-media .sqs-block-embed,
#brand-template.nine-template .project-media .sqs-block-video { max-width: 100% !important; }
#brand-template.nine-template .project-media .sqs-block-embed iframe,
#brand-template.nine-template .project-media .sqs-block-video iframe {
  width: 100% !important;
  height: auto !important;
  aspect-ratio: 16 / 9;
  border: 0;
}

/* 6) Tighten vertical rhythm inside Section Header + Summary on mobile */
@media (max-width: 600px) {
  #brand-template.nine-template .section-header { margin-bottom: 14px !important; }
  #brand-template.nine-template .project-summary { margin-top: 14px !important; }
  #brand-template.nine-template .project-summary .summary-seperator {
    width: 48px !important;
    height: 2px !important;
  }
}

/* 7) Ensure long words/URLs don’t overflow on tiny screens */
#brand-template.nine-template .project-content,
#brand-template.nine-template .project-content p,
#brand-template.nine-template .project-content h1,
#brand-template.nine-template .project-content h2,
#brand-template.nine-template .project-content h3,
#brand-template.nine-template .project-content h4,
#brand-template.nine-template .project-content h5,
#brand-template.nine-template .project-content h6 {
  word-break: break-word;
  overflow-wrap: anywhere;
}

/* 8) Keep link underlines visible on all sizes (uses your existing color rules) */
#brand-template.nine-template .project-content a {
  text-underline-offset: .12em;
  text-decoration-thickness: .08em;
}

/* 9) Make the hero/header block more compact on phones (optional) */
@media (max-width: 480px) {
  #brand-template.nine-template .project-logos { gap: 10px !important; }
  #brand-template.nine-template .project-title { margin-top: 10px !important; }
}

/* =========================================
   CORRECT HEADER RESPONSIVENESS (project-header / project-logos)
   ========================================= */
/* Custom project header: layout + colors */
#brand-template.nine-template .project-header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  flex-wrap: nowrap !important;
  gap: clamp(8px, 3vw, 32px) !important;
  padding: clamp(12px, 4vw, 40px) clamp(16px, 5vw, 60px) !important;
  height: auto !important;
  min-height: 56px;
  box-sizing: border-box;

  /* ADD THESE */
  background: #000 !important;   /* give the bar its black background */
  color: #fff !important;        /* default text color inside header */
  width: 100% !important;
  position: sticky;               /* or 'relative' if you don't want it to stick */
  top: 0;
  z-index: 1000;
}

/* allow content to shrink instead of wrapping awkwardly */
#brand-template.nine-template .project-header > * { min-width: 0; }

/* title / logo text */
#brand-template.nine-template .project-header .project-logos h1,
#brand-template.nine-template .project-header .project-logos h2,
#brand-template.nine-template .project-header .project-logos a {
  font-family: 'BLKFort', system-ui, sans-serif !important;
  font-weight: 700 !important;
  font-size: clamp(20px, 5vw, 42px) !important;
  line-height: 1.1 !important;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: inherit;                 /* inherits the white from .project-header */
}

/* ensure links/icons render white inside the header */
#brand-template.nine-template .project-header a,
#brand-template.nine-template .project-header label,
#brand-template.nine-template .project-header svg {
  color: #fff !important;
  fill: #fff !important;
}

/* optional: scale logo image too */
#brand-template.nine-template .project-header .project-logos img {
  max-height: clamp(28px, 6vw, 44px);
  width: auto;
  display: block;
}


/* nav inside header (if present) */
#brand-template.nine-template .project-header nav a {
  font-size: clamp(14px, 2.5vw, 18px) !important;
  white-space: nowrap;
  font-weight: 700 !important;
  color: inherit;
}

/* mobile tightening */
@media (max-width: 600px) {
  #brand-template.nine-template .project-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 8px !important;
    padding: 10px 16px !important;
  }
  #brand-template.nine-template .project-header .project-logos h1,
  #brand-template.nine-template .project-header .project-logos h2,
  #brand-template.nine-template .project-header .project-logos a {
    font-size: clamp(18px, 6vw, 26px) !important;
  }
}
