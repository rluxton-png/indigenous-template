/* styles/nineblock.less */

/* ===========================
   Nine-Section Template Scope
   =========================== */
.nine-template {
  --bg-odd:  #2f2f2f;  /* (legacy) dark gray */
  --bg-even: #000000;  /* (legacy) black */
  --fg:      #ffffff;

  /* Heading size tokens for this layout */
  --nb-h1-size:  clamp(36px, 6vw, 72px);
  --nb-h15-size: clamp(30px, 4.8vw, 56px); /* NEW: slightly smaller than H1 */
  --nb-h2-size:  clamp(24px, 3.6vw, 40px);

  /* Make bands full-bleed like the Brand template */
  #page { max-width: 100%; padding: 0; }

  .internal-wrapper {
    width: 1200px;
    margin: 0 auto;
  }
  @media (max-width: 480px)  { .internal-wrapper { width: 87%;  } }
  @media (min-width: 481px) and (max-width: 768px) { .internal-wrapper { width: 720px; } }

  /* Section container */
  .project-content {
    width: 100%;
    padding: 80px 0;
    min-height: 240px;
    color: var(--fg);

    h1, h2, h3, h4, h5, h6,
    p, li, blockquote, small { color: inherit; }
  }

  /* (Removed) old odd/even bands */
}

/* Seed invisibility (safe if present) */
.nine-template .blk__seed { width: 1px; height: 1px; opacity: 0; pointer-events: none; }

/* ===== Header normalization for this layout ===== */
.nine-template ~ #footer, /* no-op */ {}

/* ===========================
   Global Header / Navigation
   =========================== */
body #project-header {
  background: hsla(0,0%,0%,0.5);
  height: 120px;
  width: 100%;
  position: absolute;
  z-index: 999;
  color: #fff;
}
body #project-header a { color: #fff; }

body #project-header .header-inner {
  display: flex;
  justify-content: space-between;
  padding: 30px 60px;
}

body #project-header .mobile-nav-toggle-label .top-bar,
body #project-header .mobile-nav-toggle-label .middle-bar,
body #project-header .mobile-nav-toggle-label .bottom-bar {
  background-color: #fff;
}

/* Navigation link styles to match Brand */
body #project-header #mainNavigation a,
body #project-header #mainNavigation label {
  color: #fff;
  font-family: Roboto, sans-serif;
  font-weight: 400;
  font-size: 16px;
  line-height: 24px;
  text-transform: none;
  text-align: center;
}
body #project-header #mainNavigation a:hover,
body #project-header #mainNavigation label:hover { opacity: .5; }

/* Mobile tweaks */
@media (max-width: 768px) {
  body #project-header {
    height: 60px;
    background: #000;
    position: fixed;
  }
  body #project-header .header-logo { display: none; }
  body #project-header .header-right { display: none; }
}

/* =================================
   NEW: Heading 1.5 (between H1 & H2)
   ================================= */

/* Utility class (explicit opt-in anywhere) */
.nine-template .nb-h1-5,
.nine-template h1.nb-h1-5,
.nine-template h2.nb-h1-5,
.nine-template h3.nb-h1-5 {
  font-size: var(--nb-h15-size);
  line-height: 1.05;
  letter-spacing: -0.01em;
  font-weight: 800;
  text-transform: uppercase;
  margin: 0 0 0.5em;
  color: inherit;
}
.nine-template .nb-h1-5.is-normalcase { text-transform: none; letter-spacing: 0; }

@media (max-width: 480px) {
  .nine-template .nb-h1-5 { font-size: clamp(26px, 7vw, 34px); }
}

/* === AUTO APPLY FOR SECTION HEADERS (strict) ===
   Any H2 inside a Nine Block section header is styled as H1.5.
   H1 remains largest; H3+ stay unchanged.
*/
body .nine-template #content .section-header h2,
body .nine-template .project-content .section-header h2,
body .nine-template .section-header .sqs-block-heading h2,
body .nine-template .section-header .sqs-block-html h2,
body .nine-template .section-header .sqs-block-content h2 {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.05 !important;
  letter-spacing: -0.01em !important;
  font-weight: 800 !important;
  font-style: normal !important;   /* remove accidental italics */
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* Normalize em/italic children inside headings */
.nine-template .section-header h2 em,
.nine-template .section-header h2 i {
  font-style: inherit !important;
}

/* Safety: ensure H1 is never italicized */
body .nine-template .section-header h1,
body .nine-template .section-header .sqs-block-heading h1 {
  font-style: normal !important;
}

/* === AUTO APPLY (broad) — first H2 in common section areas === */
body .nine-template #content .project-content > .internal-wrapper > h2:first-child,
body .nine-template #content .project-content .sqs-block-heading h2:first-child,
body .nine-template #content .project-content .sqs-block-html h2:first-child,
body .nine-template #content .project-content .sqs-block-content h2:first-child {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.05 !important;
  letter-spacing: -0.01em !important;
  font-weight: 800 !important;
  font-style: normal !important;
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* Mobile fine-tune for auto-applied H1.5 */
@media (max-width: 480px) {
  body .nine-template #content .section-header h2,
  body .nine-template .project-content .section-header h2,
  body .nine-template .section-header .sqs-block-heading h2,
  body .nine-template .section-header .sqs-block-html h2,
  body .nine-template .section-header .sqs-block-content h2,
  body .nine-template #content .project-content > .internal-wrapper > h2:first-child,
  body .nine-template #content .project-content .sqs-block-heading h2:first-child,
  body .nine-template #content .project-content .sqs-block-html h2:first-child,
  body .nine-template #content .project-content .sqs-block-content h2:first-child {
    font-size: clamp(26px, 7vw, 34px) !important;
  }
}

/* --- Fix: enforce H2 (H1.5) in later sections too --- */
body #brand-template.nine-template #content .project-content .section-header h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-heading h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-html h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-content h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-heading h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-html h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-content h2 {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.05 !important;
  letter-spacing: -0.01em !important;
  font-weight: 800 !important;
  font-style: normal !important;
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* Normalize any nested italics again, just in case */
#brand-template.nine-template .project-content .section-header h2 em,
#brand-template.nine-template .project-content .section-header h2 i {
  font-style: inherit !important;
}

/* ===== FINAL FIX: de-italicize every H2 inside Nine Block, everywhere ===== */
body #brand-template.nine-template h2,
body #brand-template.nine-template h2 * {
  font-style: normal !important;
}

/* (Reassert H2 => H1.5 where we want the size bump — across ALL sections) */
body #brand-template.nine-template #content .project-content .section-header h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-heading h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-html h2,
body #brand-template.nine-template #content .project-content .section-header .sqs-block-content h2,
/* if your header H2 is the first element in the section wrapper */
body #brand-template.nine-template #content .project-content > .internal-wrapper > h2:first-child,
/* if the header H2 is the first element inside common block wrappers */
body #brand-template.nine-template #content .project-content .sqs-block-heading h2:first-child,
body #brand-template.nine-template #content .project-content .sqs-block-html h2:first-child,
body #brand-template.nine-template #content .project-content .sqs-block-content h2:first-child,
/* belt-and-suspenders: ensure later sections (7–9) get the same treatment */
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-heading h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-html h2,
body #brand-template.nine-template #content > .project-content:nth-of-type(n+7) .section-header .sqs-block-content h2 {
  font-size: var(--nb-h15-size) !important;
  line-height: 1.05 !important;
  letter-spacing: -0.01em !important;
  font-weight: 800 !important;
  text-transform: uppercase !important;
  margin: 0 0 0.5em !important;
  color: inherit !important;
}

/* ===========================
   NEW: Three-color section cycle
   =========================== */
@nb-bg-1: #F2EFE8;  @nb-fg-1: #000000;  /* gray  → black text */
@nb-bg-2: #E6B904;  @nb-fg-2: #000000;  /* yellow → black text */
@nb-bg-3: #000000;  @nb-fg-3: #FFFFFF;  /* black → white text */

/* Apply per-section repeating 3-step pattern */
body #brand-template.nine-template #content > .project-content:nth-of-type(3n+1) {
  background: @nb-bg-1 !important;
  color: @nb-fg-1 !important;
}
body #brand-template.nine-template #content > .project-content:nth-of-type(3n+2) {
  background: @nb-bg-2 !important;
  color: @nb-fg-2 !important;
}
body #brand-template.nine-template #content > .project-content:nth-of-type(3n) {
  background: @nb-bg-3 !important;
  color: @nb-fg-3 !important;
}

/* Ensure inner text follows the section color */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) li,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) small,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) blockquote,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) a,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) li,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) small,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) blockquote,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) a,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) li,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) small,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) blockquote,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) a {
  color: inherit !important;
}

/* === Adaptive link underlines by background === */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) a,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) a {
  text-decoration-color: #000000 !important; /* black underlines */
  color: inherit;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3n) a {
  text-decoration-color: #FFFFFF !important; /* white underlines */
  color: inherit;
}

/* === Section separator line inherits text color === */
#brand-template.nine-template #content > .project-content .summary-seperator {
  border-top: 2px solid currentColor !important;
  width: 60px;
  margin: 20px 0;
}
/* ===== FORCE section-header colors to match each section ===== */

/* 1,4,7 = GRAY (#F2EFE8) → BLACK text */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header {
  color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+1) .section-header a {
  color: inherit !important;
}

/* 2,5,8 = YELLOW (#E6B904) → BLACK text */
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header {
  color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n+2) .section-header a {
  color: inherit !important;
}

/* 3,6,9 = BLACK (#000000) → WHITE text */
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header {
  color: #FFFFFF !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header h1,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header h2,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header h3,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header h4,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header h5,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header h6,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header p,
#brand-template.nine-template #content > .project-content:nth-of-type(3n) .section-header a {
  color: inherit !important;
}

/* ===== Make the end-of-section line always match text color ===== */
/* Your region uses .summary-seperator (spelled that way), inside .project-summary */
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator {
  border: 0 !important;               /* kill any legacy border color */
  height: 2px;                         /* visible line */
  background: currentColor !important; /* match the section/header text color */
  width: 60px;
  margin: 20px 0;
}
/* ===== FINAL: make the end-of-section separator always match text color ===== */

/* Handle both spellings + <hr>, and override any theme borders/backgrounds */
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator,
#brand-template.nine-template #content > .project-content .project-summary .summary-separator,
#brand-template.nine-template #content > .project-content .project-summary hr {
  /* ensure it can render as a solid bar */
  display: block !important;
  height: 2px !important;
  width: 60px !important;

  /* kill any legacy borders/backgrounds */
  border: 0 !important;
  outline: 0 !important;
  background: currentColor !important;

  /* make sure it inherits the section’s text color */
  color: inherit !important;
  margin: 20px 0 !important;
  padding: 0 !important;
}

/* If any theme uses pseudo-elements for the line, catch those too */
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator::before,
#brand-template.nine-template #content > .project-content .project-summary .summary-seperator::after,
#brand-template.nine-template #content > .project-content .project-summary .summary-separator::before,
#brand-template.nine-template #content > .project-content .project-summary .summary-separator::after,
#brand-template.nine-template #content > .project-content .project-summary hr::before,
#brand-template.nine-template #content > .project-content .project-summary hr::after {
  content: "" !important;
  display: none !important;
}

/* Belt-and-suspenders: make the summary container inherit the section color */
#brand-template.nine-template #content > .project-content .project-summary {
  color: inherit !important;
}
/* ===== Pin the first three sections: 1=GRAY, 2=YELLOW, 3=BLACK ===== */

/* #1 → GRAY with BLACK text/underlines */
#brand-template.nine-template #content > .project-content:nth-of-type(1) {
  background: #F2EFE8 !important;
  color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(1) .section-header,
#brand-template.nine-template #content > .project-content:nth-of-type(1) .project-summary {
  color: inherit !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(1) a {
  text-decoration-color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(1) .project-summary .summary-seperator,
#brand-template.nine-template #content > .project-content:nth-of-type(1) .project-summary .summary-separator,
#brand-template.nine-template #content > .project-content:nth-of-type(1) .project-summary hr {
  background: currentColor !important;
}

/* #2 → YELLOW with BLACK text/underlines */
#brand-template.nine-template #content > .project-content:nth-of-type(2) {
  background: #E6B904 !important;
  color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(2) .section-header,
#brand-template.nine-template #content > .project-content:nth-of-type(2) .project-summary {
  color: inherit !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(2) a {
  text-decoration-color: #000000 !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(2) .project-summary .summary-seperator,
#brand-template.nine-template #content > .project-content:nth-of-type(2) .project-summary .summary-separator,
#brand-template.nine-template #content > .project-content:nth-of-type(2) .project-summary hr {
  background: currentColor !important;
}

/* #3 → BLACK with WHITE text/underlines */
#brand-template.nine-template #content > .project-content:nth-of-type(3) {
  background: #000000 !important;
  color: #FFFFFF !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3) .section-header,
#brand-template.nine-template #content > .project-content:nth-of-type(3) .project-summary {
  color: inherit !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3) a {
  text-decoration-color: #FFFFFF !important;
}
#brand-template.nine-template #content > .project-content:nth-of-type(3) .project-summary .summary-seperator,
#brand-template.nine-template #content > .project-content:nth-of-type(3) .project-summary .summary-separator,
#brand-template.nine-template #content > .project-content:nth-of-type(3) .project-summary hr {
  background: currentColor !important;
}

/* From #4 onward your existing 3-color cycle continues (4=gray, 5=yellow, 6=black, …). */
